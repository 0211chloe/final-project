{% extends "base.html" %}

{% block content %}
<h2>Top Movie Recommendations for: <i>{{ city }}</i></h2>
<div class="weather-box">
    <strong>Based on:</strong>
    <span class="weather-values">{{ temp }}Â°F, {{ condition }}, {{ clouds }}% clouds</span>
</div>
<div class="movies-container">
    {% for movie in movies %}
        <div class="movie">
            <div class="poster">
                    <img src="{{ movie.Poster if movie.Poster != 'N/A' else url_for('static', filename='no-poster.png') }}" onerror="this.onerror=null; this.src='{{ url_for('static', filename='no-poster.png') }}';">
            </div>
            <div class="details">
                <div class="title">{{ movie.Title }} ({{ movie.Year }})</div>
                <div class="info">
                    <strong>Genre:</strong> {{ movie.Genre }}<br>
                    <strong>Director:</strong> {{ movie.Director }}<br>
                    <strong>Cast:</strong> {{ movie.Actors }}<br>
                    <strong>Plot:</strong> {{ movie.Plot }}
                </div>
            </div>
        </div>
    {% endfor %}
</div>
    <footer>
        <a class="text-warning" href="{{ url_for('index') }}">Search again</a>.
        Data from
        <a href="https://www.omdbapi.com/" target="_blank">The Open Movie Database</a>
        and
        <a href="https://openweathermap.org/" target="_blank">OpenWeather</a>.
    </footer>
{% endblock %}
